{% extends 'base.html' %}

{% block content %}
  <div class="container text-center">
    <h1>Gastos</h1>
    <form method="post" class="mx-auto w-50">
      {% csrf_token %}
      <div class="form-group">
        <label class="label" for="date">Fecha del gasto:</label>
        <input class="inputs" type="date" id="date" name="date" required />
      </div>
      <div class="form-group">
        <label class="label" for="amount">Saldo:</label>
        <input class="inputs" type="number" id="amount" name="amount" required />
      </div>
      <div class="form-group">
        <label class="label" for="description">Descripcion:</label>
        <input class="inputs" type="text" id="description" name="description" required />
      </div>
      <div class="form-group">
        <label for="cuenta">Cuenta</label>
        <select id="cuenta" name="account">
          {% for id, account_name in accounts %}
            <option value="{{ id }}">{{ account_name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="form-group">
        <label for="categoria">Categoria</label>
        <select id="categoria" name="category">
          {% for id, category_name in categories %}
            <option value="{{ id }}">{{ category_name }}</option>
          {% endfor %}
        </select>
      </div>
      <button type="submit" class="btn btn-primary">Guardar cambios</button>
    </form>
  </div>
  <table>
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Descripcion</th>
        <th>Monto</th>
        <th>Cuenta</th>
        <th>Categoria</th>
      </tr>
    </thead>
    {% for transaction in transactions %}
      <tr>
        <td>{{ transaction.0 }}</td>
        <td>{{ transaction.1 }}</td>
        <td>-{{ transaction.2 }}</td>
        <td>{{ transaction.3 }}</td>
        <td>{{ transaction.4 }}</td>
        <td>
          <form method="post">
            {% csrf_token %}
            {% comment %} <button type="button" onclick="location.href='{% url 'editar_cuenta' account.3 %}'" class="editar-btn">Editar</button>
            <button class="eliminar-btn" type="submit">Eliminar</button> {% endcomment %}
          </form>
        </td>
      </tr>
    {% endfor %}
  </table>
{% endblock %}

{% comment %} {% extends 'base.html' %}

{% block content %}
  <h1>Add Transaction</h1>
  <form class="form" method="post">
    {% csrf_token %}
    <div class="form-group">
      <label for="fecha">Fecha</label>
      <input name="fecha" type="date" id="dateInput" class="input" required />
    </div>
    <div class="form-group">
      <label for="monto">Monto</label>
      <input type="number" id="monto" name="monto" step="0.01" class="input" required />
    </div>
    <div class="form-group">
      <label for="descripcion">Descripcion</label>
      <input type="text" id="descripcion" name="descripcion" class="input" required />
    </div>
    <div class="form-group">
      <label for="cuenta">Cuenta</label>
      <select id="cuenta" name="cuenta">
        {% for id, account_name in accounts %}
          <option value="{{ id }}">{{ account_name }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="form-group">
      <label for="categoria">Categoria</label>
      <select id="categoria" name="categoria">
        {% for id, category_name in categories %}
          <option value="{{ id }}">{{ category_name }}</option>
        {% endfor %}
      </select>
    </div>
    <button class="button" type="submit">Guardar</button>
  </form>

  <h2>Transactions</h2>
  <table>
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Descripcion</th>
        <th>Monto</th>
        <th>Cuenta</th>
        <th>Categoria</th>
      </tr>
    </thead>
    <tbody>
      {% for transaction in transactions %}
        <tr>
          <td>{{ transaction.0 }}</td>
          <td>{{ transaction.1 }}</td>
          <td>-{{ transaction.2 }}</td>
          <td>{{ transaction.3 }}</td>
          <td>{{ transaction.4 }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %} {% endcomment %}
